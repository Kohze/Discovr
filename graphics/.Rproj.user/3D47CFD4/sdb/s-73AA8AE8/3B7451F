{
    "collab_server" : "",
    "contents" : "HTMLWidgets.widget({\n\n  name: 'd4_three',\n  type: 'output',\n\n  factory: function(el, width, height) {\n\n    // TODO: define shared variables for this instance\n\n    return {\n\n      renderValue: function(x) {\n\n        // TODO: code to render the widget, e.g.\n  //      el.innerText = x.message;\n       // el.innerText= \" test\";\n  var d;\n  var sampleSVG = d3.select(\"#\" + el.id).append(\"svg\");\n  var svg = sampleSVG.attr(\"class\", \"bubble\");\n\n function updateJSON(){\n    d = x.inputNames;\n    return(d);\n  }\n\n  function updateJSON2(){\n    d = x.inputNames2;\n    return(d);\n  }\n\n  function updateJSON3(){\n    d = x.inputNames3;\n    return(d);\n  }\n\n  function updateJSON4(){\n    d = x.inputNames4;\n    return(d);\n  }\n\n  function updateJSON5(){\n    d = x.inputNames5;\n    return(d);\n  }\n\n   function updateJSON6(){\n    d = x.inputNames6;\n    return(d);\n  }\n\n\n  sampleSVG.append(\"rect\")\n                      .style(\"fill\", \"orange\")\n                      .style(\"opacity\", 0.2)\n                      .attr(\"x\", 0)\n                      .attr(\"y\", 0)\n                      .attr(\"width\", 400)\n                      .attr(\"height\", 80);\n\n  sampleSVG.append(\"rect\")\n                      .style(\"fill\", \"yellow\")\n                      .style(\"opacity\", 0.1)\n                      .attr(\"x\", 0)\n                      .attr(\"y\", 80)\n                      .attr(\"width\", 215)\n                      .attr(\"height\", 240);\n\n  sampleSVG.append(\"rect\")\n                      .style(\"fill\", \"green\")\n                      .style(\"opacity\", 0.1)\n                      .attr(\"x\", 215)\n                      .attr(\"y\", 80)\n                      .attr(\"width\", 185)\n                      .attr(\"height\", 240);\n\n    var diagonal = d3.svg.diagonal()\n                         .source({x:20, y:200})\n                         .target({x:100, y:250});\n\n    var diagonal2 = d3.svg.diagonal()\n                         .source({x:20, y:200})\n                         .target({x:100, y:150});\n\n    var diagonal3 = d3.svg.diagonal()\n                         .source({x:100, y:150})\n                         .target({x:200, y:100});\n\n    var diagonal4 = d3.svg.diagonal()\n                         .source({x:100, y:150})\n                         .target({x:200, y:180});\n\n    var diagonal5 = d3.svg.diagonal()\n                         .source({x:100, y:250})\n                         .target({x:200, y:300});\n\n    var diagonal6 = d3.svg.diagonal()\n                         .source({x:100, y:250})\n                         .target({x:200, y:220});\n\n    sampleSVG.append(\"path\")\n                        .attr(\"d\", diagonal)\n                        .attr(\"stroke\", x.col1)\n                        .attr(\"stroke-width\", 1)\n                        .attr(\"fill\", \"none\");\n\n    sampleSVG.append(\"path\")\n                        .attr(\"d\", diagonal2)\n                        .attr(\"stroke\", x.col2)\n                        .attr(\"stroke-width\", 1)\n                        .attr(\"fill\", \"none\");\n\n    sampleSVG.append(\"path\")\n                        .attr(\"d\", diagonal3)\n                        .attr(\"stroke\", x.col3)\n                        .attr(\"stroke-width\", 1)\n                        .attr(\"fill\", \"none\");\n\n    sampleSVG.append(\"path\")\n                        .attr(\"d\", diagonal4)\n                        .attr(\"stroke\", x.col4)\n                        .attr(\"stroke-width\", 1)\n                        .attr(\"fill\", \"none\");\n\n    sampleSVG.append(\"path\")\n                        .attr(\"d\", diagonal5)\n                        .attr(\"stroke\", x.col5)\n                        .attr(\"stroke-width\", 1)\n                        .attr(\"fill\", \"none\");\n\n    sampleSVG.append(\"path\")\n                        .attr(\"d\", diagonal6)\n                        .attr(\"stroke\", x.col6)\n                        .attr(\"stroke-width\", 1)\n                        .attr(\"fill\", \"none\");\n\n   sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 10)\n                        .attr(\"cx\", 20)\n                        .attr(\"cy\", 200)\n                        .on(\"mouseover\", function() {\n                            d3.select(\"#tx2\").text(x.text1).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\").style(\"stroke\",\"black\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\").style(\"stroke\",\"\");\n                        });\n\n   sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 8)\n                        .attr(\"cx\", 100)\n                        .attr(\"cy\", 150)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON())\n                            d3.select(\"#tx2\").text(x.text2).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n   sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 8)\n                        .attr(\"cx\", 100)\n                        .attr(\"cy\", 250)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON2());\n                            d3.select(\"#tx2\").text(x.text3).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n   sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 8)\n                        .attr(\"cx\", 200)\n                        .attr(\"cy\", 100)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON3());\n                            d3.select(\"#tx2\").text(x.text4).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n   sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 8)\n                        .attr(\"cx\", 200)\n                        .attr(\"cy\", 180)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON4());\n                            d3.select(\"#tx2\").text(x.text5).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n   sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 8)\n                        .attr(\"cx\", 200)\n                        .attr(\"cy\", 220)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON5());\n                            d3.select(\"#tx2\").text(x.text6).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n   sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 8)\n                        .attr(\"cx\", 200)\n                        .attr(\"cy\", 300)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON6());\n                            d3.select(\"#tx2\").text(x.text7).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n  sampleSVG.append(\"text\")\n                     .attr(\"id\",\"tx2\")\n                     .attr(\"x\", 275)\n                     .attr(\"y\", 100)\n                     .attr(\"font-family\", \"sans-serif\")\n                     .attr(\"font-size\", \"18px\")\n                     .attr(\"fill\", \"black\")\n                     .style('opacity', 1);\n\n  sampleSVG.append(\"text\")\n                     .attr(\"id\",\"description\")\n                     .attr(\"x\", 250)\n                     .attr(\"y\", 200)\n                     .text(\"lore ipsum dolore\")\n                     .attr(\"font-family\", \"sans-serif\")\n                     .attr(\"font-size\", \"11px\")\n                     .attr(\"fill\", \"black\")\n                     .style('opacity', 1);\n\n  sampleSVG.append(\"text\")\n                     .attr(\"id\",\"header1\")\n                     .attr(\"x\", 10)\n                     .attr(\"y\", 20)\n                     .text(\"Dataset:\")\n                     .attr(\"font-family\", \"sans-serif\")\n                     .attr(\"font-size\", \"11px\")\n                     .attr(\"fill\", \"black\")\n                     .style('opacity', 1);\n\n  sampleSVG.append(\"text\")\n                     .attr(\"id\",\"datasetName\")\n                     .attr(\"x\", 60)\n                     .attr(\"y\", 20)\n                     .text(\"tetasdasd\")\n                     .attr(\"font-family\", \"sans-serif\")\n                     .attr(\"font-size\", \"11px\")\n                     .attr(\"fill\", \"black\")\n                     .style('opacity', 1);\n\n  sampleSVG.append(\"text\")\n                     .attr(\"id\",\"colNames\")\n                     .attr(\"x\", 10)\n                     .attr(\"y\", 50)\n                     .text(x.cNames)\n                     .attr(\"font-family\", \"sans-serif\")\n                     .attr(\"font-size\", \"11px\")\n                     .attr(\"fill\", \"black\")\n                     .style('opacity', 1);\n\n//var d = x.inputNames2;\n\nvar diameter = 350,\n    format = d3.format(\",d\"),\n    color = d3.scale.category20c();\n\nvar bubble = d3.layout.pack()\n    .sort(null)\n    .size([350, 300])\n    .padding(1.5);\n\nsvg.append(\"rect\")\n   .attr(\"id\",\"bubblePlot\")\n   .attr(\"width\", \"100%\")\n   .attr(\"height\", \"100%\")\n   .attr(\"fill\", \"white\")\n   .style(\"opacity\", 0)\n   .style(\"display\",\"none\");\n\nsvg.append(\"rect\")\n   .attr(\"id\",\"bubblePlot\")\n   .style(\"opacity\", 0)\n   .style(\"display\",\"none\")\n   .attr(\"width\", 80)\n   .attr(\"height\", 40)\n   .attr(\"fill\", \"red\")\n   .on(\"mouseover\", function() {\n      d3.selectAll(\"#bubblePlot\").style(\"opacity\",0).style(\"display\",\"none\");\n    });\n\nsvg.append(\"text\")\n   .attr(\"id\",\"bubblePlot\")\n   .attr(\"x\", 20)\n   .attr(\"y\", 26)\n   .style(\"opacity\", 0)\n   .text(\"back\");\n\nfunction getNewData(input) {\nd3.json(input, function(error, root) {\n  d3.selectAll(\"g\").remove();\n  var node = svg.selectAll(\".node\")\n      .attr(\"id\",\"bubblePlot\")\n      .data(bubble.nodes(classes(d))\n      .filter(function(d) { return !d.children; }))\n      .enter().append(\"g\")\n      .attr(\"class\", \"node\")\n      .style(\"opacity\", 0)\n      .style(\"display\",\"none\")\n      .attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; });\n\n  node.append(\"title\")\n      .attr(\"id\",\"bubblePlot\")\n      .text(function(d) { return d.className + \": \" + format(d.value); });\n\n  node.append(\"circle\")\n      .attr(\"id\",\"bubblePlot\")\n      .attr(\"r\", function(d) { return d.r; })\n      .style(\"fill\", function(d) { return color(d.packageName); });\n\n  node.append(\"text\")\n      .attr(\"id\",\"bubblePlot\")\n      .attr(\"font-size\", \"8px\")\n      .attr(\"dy\", \".2em\")\n      .style(\"text-anchor\", \"middle\")\n      .text(function(d) { return d.className.substring(0, d.r / 3); });\n});\n}\n\nfunction classes(root) {\n  var classes = [];\n\n  function recurse(name, node) {\n    if (node.children) node.children.forEach(function(child) { recurse(node.name, child); });\n    else classes.push({packageName: name, className: node.name, value: node.size});\n  }\n\n  recurse(null, root);\n  return {children: classes};\n}\n\nd3.select(self.frameElement).style(\"height\", diameter + \"px\");\nd3.selectAll(\"g\").style(\"opacity\", 0);\n\n      },\n\n      resize: function(width, height) {\n\n        // TODO: code to re-render the widget with a new size\n\n      }\n\n    };\n  }\n});\n",
    "created" : 1470130585369.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3920469641",
    "id" : "3B7451F",
    "lastKnownWriteTime" : 1471213600,
    "last_content_update" : 1471213600757,
    "path" : "~/d3three/inst/htmlwidgets/d4_three.js",
    "project_path" : "inst/htmlwidgets/d4_three.js",
    "properties" : {
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "js"
}